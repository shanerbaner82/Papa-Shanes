import{G as z,z as T,s as j,o as v,f as m,b as h,F as _,k as E,t as b,n as C}from"./app-DrjiUe9h.js";function F(n){var e={target:"confetti-holder",max:80,size:1,animate:!0,respawn:!0,props:["circle","square","triangle","line"],colors:[[165,104,246],[230,61,135],[0,199,228],[253,214,126]],clock:25,interval:null,rotate:!1,start_from_edge:!1,width:window.innerWidth,height:window.innerHeight};if(n&&(n.target&&(e.target=n.target),n.max&&(e.max=n.max),n.size&&(e.size=n.size),n.animate!==void 0&&n.animate!==null&&(e.animate=n.animate),n.respawn!==void 0&&n.respawn!==null&&(e.respawn=n.respawn),n.props&&(e.props=n.props),n.colors&&(e.colors=n.colors),n.clock&&(e.clock=n.clock),n.start_from_edge!==void 0&&n.start_from_edge!==null&&(e.start_from_edge=n.start_from_edge),n.width&&(e.width=n.width),n.height&&(e.height=n.height),n.rotate!==void 0&&n.rotate!==null&&(e.rotate=n.rotate)),typeof e.target!="object"&&typeof e.target!="string")throw new TypeError("The target parameter should be a node or string");if(typeof e.target=="object"&&(e.target===null||!e.target instanceof HTMLCanvasElement)||typeof e.target=="string"&&(document.getElementById(e.target)===null||!document.getElementById(e.target)instanceof HTMLCanvasElement))throw new ReferenceError("The target element does not exist or is not a canvas element");var s=typeof e.target=="object"?e.target:document.getElementById(e.target),r=s.getContext("2d"),l=[];function i(t,a){t||(t=1);var u=Math.random()*t;return a?Math.floor(u):u}var w=e.props.reduce(function(t,a){return t+(a.weight||1)},0);function d(){for(var t=Math.random()*w,a=0;a<e.props.length;++a){var u=e.props[a].weight||1;if(t<u)return a;t-=u}}function x(){var t=e.props[d()],a={prop:t.type?t.type:t,x:i(e.width),y:e.start_from_edge?e.clock>=0?-10:parseFloat(e.height)+10:i(e.height),src:t.src,radius:i(4)+1,size:t.size,rotate:e.rotate,line:Math.floor(i(65)-30),angles:[i(10,!0)+2,i(10,!0)+2,i(10,!0)+2,i(10,!0)+2],color:e.colors[i(e.colors.length,!0)],rotation:i(360,!0)*Math.PI/180,speed:i(e.clock/7)+e.clock/30};return a}function f(t){if(t){var a=t.radius<=3?.4:.8;switch(r.fillStyle=r.strokeStyle="rgba("+t.color+", "+a+")",r.beginPath(),t.prop){case"circle":{r.moveTo(t.x,t.y),r.arc(t.x,t.y,t.radius*e.size,0,Math.PI*2,!0),r.fill();break}case"triangle":{r.moveTo(t.x,t.y),r.lineTo(t.x+t.angles[0]*e.size,t.y+t.angles[1]*e.size),r.lineTo(t.x+t.angles[2]*e.size,t.y+t.angles[3]*e.size),r.closePath(),r.fill();break}case"line":{r.moveTo(t.x,t.y),r.lineTo(t.x+t.line*e.size,t.y+t.radius*5),r.lineWidth=2*e.size,r.stroke();break}case"square":{r.save(),r.translate(t.x+15,t.y+5),r.rotate(t.rotation),r.fillRect(-15*e.size,-5*e.size,15*e.size,5*e.size),r.restore();break}case"svg":{r.save();var u=new window.Image;u.src=t.src;var o=t.size||15;r.translate(t.x+o/2,t.y+o/2),t.rotate&&r.rotate(t.rotation),r.drawImage(u,-(o/2)*e.size,-(o/2)*e.size,o*e.size,o*e.size),r.restore();break}}}}var g=function(){e.animate=!1,clearInterval(e.interval),requestAnimationFrame(function(){r.clearRect(0,0,s.width,s.height);var t=s.width;s.width=1,s.width=t})},y=function(){s.width=e.width,s.height=e.height,l=[];for(var t=0;t<e.max;t++)l.push(x());function a(){r.clearRect(0,0,e.width,e.height);for(var o in l)f(l[o]);u(),e.animate&&requestAnimationFrame(a)}function u(){for(var o=0;o<e.max;o++){var c=l[o];c&&(e.animate&&(c.y+=c.speed),c.rotate&&(c.rotation+=c.speed/35),(c.speed>=0&&c.y>e.height||c.speed<0&&c.y<0)&&(e.respawn?(l[o]=c,l[o].x=i(e.width,!0),l[o].y=c.speed>=0?-10:parseFloat(e.height)):l[o]=void 0))}l.every(function(k){return k===void 0})&&g()}return requestAnimationFrame(a)};return{render:y,clear:g}}const I=h("canvas",{class:"absolute w-screen h-screen inset-0",id:"confetti"},null,-1),M={class:"w-screen h-screen grid content-center justify-center"},B={class:"max-w-full px-6 md:px-none md:max-w-4xl"},O=h("div",{class:"flex flex-col items-center justify-center p-12 gap-y-4"},[h("img",{src:"/images/papashanes.png",class:"flex justify-center max-h-24"}),h("p",{class:"font-black text-base md:text-3xl text-center"},"Better Ingredients. Better Code.")],-1),p={class:"flex border-2 md:border-4 border-black rounded-full shadow-xl"},q={class:"uppercase font-bold italic text-white drop-shadow text-center"},P={class:"block text-sm md:text-3xl font-bold not-italic leading-none"},R={class:"font-black text-base md:text-3xl text-center mt-4"},$={__name:"Tracker",props:{order:Object,statuses:Object},setup(n){const e=n;let{status:s}=z(e.order),r=Object.keys(e.statuses);T(s,()=>{l()});const l=function(){r.indexOf(s.value)===r.length-1&&i()},i=function(){let d={target:"confetti",clock:50,start_from_edge:!0,rotate:!0,max:500};new F(d).render()},w=function(d,x){let f="w-1/4 bg-gradient-to-b flex items-center justify-center h-10 md:h-20 border-r-2  transition-all";return d===r[0]&&(f+=" rounded-l-full"),d===r[r.length-1]&&(f=f.replace("border-r-2","rounded-r-full")),s.value===d?`${f} from-red-500 to-red-600 scale-110 md:scale-125 rounded shadow-lg border-red-800 shadow-2xl z-10`:r.indexOf(d)<r.indexOf(s.value)?`${f} from-green-700 to-green-800 border-green-900`:`${f} from-green-200 to-green-500 border-green-900`};return j(()=>{l(),Echo.channel(`orders.${e.order.order_number}`).listen("OrderUpdatedEvent",d=>{s.value=d.order.status})}),(d,x)=>(v(),m(_,null,[I,h("div",M,[h("div",B,[O,h("div",p,[(v(!0),m(_,null,E(e.statuses,(f,g)=>(v(),m("div",{key:g,class:C(w(g))},[h("p",q,[h("span",P,b(f),1)])],2))),128))]),h("p",R,"Ordered "+b(n.order.created),1)])])],64))}};export{$ as default};
